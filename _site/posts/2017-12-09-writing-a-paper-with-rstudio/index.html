<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" lang="en" xml:lang="en"><head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<meta charset="utf-8">
<meta name="generator" content="quarto-0.9.333">
<meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes">
<meta name="author" content="Davis Vaughan">
<meta name="dcterms.date" content="2017-12-09">
<title>Davis Vaughan - Writing a paper with RStudio</title>
<style>
code{white-space: pre-wrap;}
span.smallcaps{font-variant: small-caps;}
span.underline{text-decoration: underline;}
div.column{display: inline-block; vertical-align: top; width: 50%;}
div.hanging-indent{margin-left: 1.5em; text-indent: -1.5em;}
ul.task-list{list-style: none;}
pre > code.sourceCode { white-space: pre; position: relative; }
pre > code.sourceCode > span { display: inline-block; line-height: 1.25; }
pre > code.sourceCode > span:empty { height: 1.2em; }
.sourceCode { overflow: visible; }
code.sourceCode > span { color: inherit; text-decoration: inherit; }
div.sourceCode { margin: 1em 0; }
pre.sourceCode { margin: 0; }
@media screen {
div.sourceCode { overflow: auto; }
}
@media print {
pre > code.sourceCode { white-space: pre-wrap; }
pre > code.sourceCode > span { text-indent: -5em; padding-left: 5em; }
}
pre.numberSource code
  { counter-reset: source-line 0; }
pre.numberSource code > span
  { position: relative; left: -4em; counter-increment: source-line; }
pre.numberSource code > span > a:first-child::before
  { content: counter(source-line);
    position: relative; left: -1em; text-align: right; vertical-align: baseline;
    border: none; display: inline-block;
    -webkit-touch-callout: none; -webkit-user-select: none;
    -khtml-user-select: none; -moz-user-select: none;
    -ms-user-select: none; user-select: none;
    padding: 0 4px; width: 4em;
    color: #aaaaaa;
  }
pre.numberSource { margin-left: 3em; border-left: 1px solid #aaaaaa;  padding-left: 4px; }
div.sourceCode
  {   }
@media screen {
pre > code.sourceCode > span > a:first-child::before { text-decoration: underline; }
}
code span.al { color: #ff0000; font-weight: bold; } /* Alert */
code span.an { color: #60a0b0; font-weight: bold; font-style: italic; } /* Annotation */
code span.at { color: #7d9029; } /* Attribute */
code span.bn { color: #40a070; } /* BaseN */
code span.bu { } /* BuiltIn */
code span.cf { color: #007020; font-weight: bold; } /* ControlFlow */
code span.ch { color: #4070a0; } /* Char */
code span.cn { color: #880000; } /* Constant */
code span.co { color: #60a0b0; font-style: italic; } /* Comment */
code span.cv { color: #60a0b0; font-weight: bold; font-style: italic; } /* CommentVar */
code span.do { color: #ba2121; font-style: italic; } /* Documentation */
code span.dt { color: #902000; } /* DataType */
code span.dv { color: #40a070; } /* DecVal */
code span.er { color: #ff0000; font-weight: bold; } /* Error */
code span.ex { } /* Extension */
code span.fl { color: #40a070; } /* Float */
code span.fu { color: #06287e; } /* Function */
code span.im { } /* Import */
code span.in { color: #60a0b0; font-weight: bold; font-style: italic; } /* Information */
code span.kw { color: #007020; font-weight: bold; } /* Keyword */
code span.op { color: #666666; } /* Operator */
code span.ot { color: #007020; } /* Other */
code span.pp { color: #bc7a00; } /* Preprocessor */
code span.sc { color: #4070a0; } /* SpecialChar */
code span.ss { color: #bb6688; } /* SpecialString */
code span.st { color: #4070a0; } /* String */
code span.va { color: #19177c; } /* Variable */
code span.vs { color: #4070a0; } /* VerbatimString */
code span.wa { color: #60a0b0; font-weight: bold; font-style: italic; } /* Warning */
</style>
<script src="../../site_libs/quarto-nav/quarto-nav.js"></script><script src="../../site_libs/quarto-nav/headroom.min.js"></script><script src="../../site_libs/clipboard/clipboard.min.js"></script><meta name="quarto:offset" content="../../">
<script src="../../site_libs/quarto-search/autocomplete.umd.js"></script><script src="../../site_libs/quarto-search/fuse.min.js"></script><script src="../../site_libs/quarto-search/quarto-search.js"></script><script src="../../site_libs/quarto-html/quarto.js"></script><script src="../../site_libs/quarto-html/popper.min.js"></script><script src="../../site_libs/quarto-html/tippy.umd.min.js"></script><script src="../../site_libs/quarto-html/anchor.min.js"></script><link href="../../site_libs/quarto-html/tippy.css" rel="stylesheet">
<link id="quarto-text-highlighting-styles" href="../../site_libs/quarto-html/quarto-syntax-highlighting.css" rel="stylesheet">
<script src="../../site_libs/bootstrap/bootstrap.min.js"></script><link href="../../site_libs/bootstrap/bootstrap-icons.css" rel="stylesheet">
<link href="../../site_libs/bootstrap/bootstrap.min.css" rel="stylesheet">
<script id="quarto-search-options" type="application/json">{
  "location": "navbar",
  "copy-button": false,
  "collapse-after": 3,
  "panel-placement": "end",
  "type": "overlay",
  "limit": 20,
  "language": {
    "search-no-results-text": "No results",
    "search-matching-documents-text": "matching documents",
    "search-copy-link-title": "Copy link to search",
    "search-hide-matches-text": "Hide additional matches",
    "search-more-match-text": "more match in this document",
    "search-more-matches-text": "more matches in this document",
    "search-clear-button-title": "Clear",
    "search-detached-cancel-button-title": "Cancel",
    "search-submit-button-title": "Submit"
  }
}</script><script src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-chtml-full.js" type="text/javascript"></script><link rel="stylesheet" href="../../styles.css">
</head>
<body class="floating nav-fixed">

<div id="quarto-search-results"></div>
  <header id="quarto-header" class="headroom fixed-top"><nav class="navbar navbar-expand-lg navbar-dark "><div class="navbar-container container-fluid">
      <a class="navbar-brand" href="../../index.html">
    <span class="navbar-title">Davis Vaughan</span>
  </a>
          <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbarCollapse" aria-controls="navbarCollapse" aria-expanded="false" aria-label="Toggle navigation" onclick="if (window.quartoToggleHeadroom) { window.quartoToggleHeadroom(); }">
  <span class="navbar-toggler-icon"></span>
</button>
          <div class="collapse navbar-collapse" id="navbarCollapse">
            <ul class="navbar-nav navbar-nav-scroll ms-auto">
<li class="nav-item">
    <a class="nav-link" href="../../index.html">Posts</a>
  </li>  
  <li class="nav-item">
    <a class="nav-link" href="../../about.html">About</a>
  </li>  
  <li class="nav-item compact">
    <a class="nav-link" href="https://github.com/DavisVaughan"><i class="bi bi-github" role="img">
</i> 
 </a>
  </li>  
  <li class="nav-item compact">
    <a class="nav-link" href="https://twitter.com/dvaughan32"><i class="bi bi-twitter" role="img">
</i> 
 </a>
  </li>  
</ul>
<div id="quarto-search" class="" title="Search"></div>
          </div> <!-- /navcollapse -->
      </div> <!-- /container-fluid -->
    </nav></header><!-- content --><header id="title-block-header" class="quarto-title-block default toc-left page-columns page-full"><div class="quarto-title-banner page-columns page-full">
    <div class="quarto-title column-body">
      <h1 class="title">Writing a paper with RStudio</h1>
                </div>
  </div>
    
  



  <div class="quarto-title-meta">

      <div>
      <div class="quarto-title-meta-heading">Author</div>
      <div class="quarto-title-meta-contents">
               <p>Davis Vaughan </p>
            </div>
    </div>
      
      <div>
      <div class="quarto-title-meta-heading">Published</div>
      <div class="quarto-title-meta-contents">
        <p class="date">December 9, 2017</p>
      </div>
    </div>
      
    </div>
    
  
  </header><div id="quarto-content" class="quarto-container page-columns page-rows-contents page-layout-article page-navbar">
<!-- sidebar -->
  <nav id="quarto-sidebar" class="sidebar collapse sidebar-navigation floating overflow-auto"><nav id="TOC" role="doc-toc"><h2 id="toc-title">Contents</h2>
   
  <ul>
<li><a href="#intro" id="toc-intro" class="nav-link active" data-scroll-target="#intro">Intro</a></li>
  <li><a href="#github" id="toc-github" class="nav-link" data-scroll-target="#github">Github</a></li>
  <li><a href="#tooling" id="toc-tooling" class="nav-link" data-scroll-target="#tooling">Tooling</a></li>
  <li><a href="#huxtable" id="toc-huxtable" class="nav-link" data-scroll-target="#huxtable">Huxtable</a></li>
  <li><a href="#adding-images" id="toc-adding-images" class="nav-link" data-scroll-target="#adding-images">Adding images</a></li>
  <li><a href="#adding-equations" id="toc-adding-equations" class="nav-link" data-scroll-target="#adding-equations">Adding equations</a></li>
  <li><a href="#overall" id="toc-overall" class="nav-link" data-scroll-target="#overall">Overall</a></li>
  <li><a href="#update" id="toc-update" class="nav-link" data-scroll-target="#update">Update</a></li>
  </ul></nav>
</nav><!-- margin-sidebar --><div id="quarto-margin-sidebar" class="sidebar margin-sidebar">
    </div>
<!-- main -->
<main class="content quarto-banner-title-block" id="quarto-document-content"><section id="intro" class="level3"><h3 class="anchored" data-anchor-id="intro">Intro</h3>
<p>This semester I had to write a paper for my Financial Econometrics class. My topic was on analyzing the volatility of Bitcoin using GARCH modeling. I’m not particularly interested in Bitcoin, but with all the recent news around it, and with its highly volatile characteristics, I figured it would be a good candidate for analysis.</p>
<p>I did the analysis in R, but I wanted to take it a step further. Could I write the entire paper in R and RStudio in a fairly professional format? Yes.</p>
<p><img src="./img/paper-sample.png" class="img-fluid"></p>
<p>I figured I would outline a few issues I had along the way, and talk about the experience for anyone that might do something similar.</p>
</section><section id="github" class="level3"><h3 class="anchored" data-anchor-id="github">Github</h3>
<p>If you want to go view the entire paper and analysis, it’s on Github. Check out the repo <a href="https://github.com/DavisVaughan/fin-econ-project-bitcoin">here</a>. The PDF paper itself is buried <a href="https://github.com/DavisVaughan/fin-econ-project-bitcoin/blob/master/paper/Forecasting%20daily%20Bitcoin%20volatility%20using%20Garch%20models%20with%20intraday%20data/Forecasting_daily_Bitcoin_volatility_using_Garch_models_with_intraday_data.pdf">here</a>.</p>
<p>If you really want to follow the analysis steps, look in <code>R/</code> to see the code that generates everything else. Do note that I had to keep the raw data zipped to get it on Github, so to run the data cleaning script, you will have to unzip the file in <code>data/raw/</code>. The paper is written in <code>paper/</code>.</p>
</section><section id="tooling" class="level3"><h3 class="anchored" data-anchor-id="tooling">Tooling</h3>
<p>To even begin thinking about this, I needed two R packages. One that allowed me to write the post in RMarkdown and render it into a journal style format, and one that created nice looking and customizable tables.</p>
<p>For the first, I initially looked into the <a href="https://cran.r-project.org/web/packages/rticles/index.html"><code>rticles</code></a> package from the RStudio team, which is amazing, but I wasn’t satisfied with the journal styles that they had as options. I then remembered that Dirk Eddelbuettel and James Balamuta had created <a href="https://cran.r-project.org/web/packages/pinp/index.html"><code>pinp</code></a>, or, Pinp Is Not PNAS, as an extension of <code>rticles</code> and in particular the PNAS journal format. This one fit the bill for me, as it provided an uncluttered journal layout with a bit of nice coloring as well.</p>
<p>For the second, there are plenty of options out there for creating LaTeX tables in R, <code>xtable</code>, <code>stargazer</code>, etc. However, I recently had found <a href="https://hughjonesd.github.io/huxtable/"><code>huxtable</code></a> and was instantly drawn to its intuitive pipeable syntax for creating tables from data frames. Now that I have a good bit of experience with it, I can say for certain that it is incredibly flexible, and I doubt I’ll ever use another package for table creation.</p>
<p>I was initially pretty worried about how well the two would play together. Sure enough, after rendering a table or two I got errors that (for a non LaTeX expert) seemed faily cryptic. However, it turned out to be a LaTeX package (not R package) dependency problem where <code>huxtable</code> needed packages that <code>pinp</code> didn’t use by default. That was easily fixed by adding the following to the top of the YAML header provided by <code>pinp</code>:</p>
<pre><code>header-includes:
   - \usepackage{tabularx,colortbl,multirow,hhline,mathtools}</code></pre>
<p>I’ll also add in there that I used the <code>rugarch</code> package for all of my GARCH modeling, and it exceeded my expectations. Its author Alexios has created a fantastic S4 class system that makes trying different versions of GARCH models dead simple.</p>
</section><section id="huxtable" class="level3"><h3 class="anchored" data-anchor-id="huxtable">Huxtable</h3>
<p>I really wish <code>huxtable</code> had more publicity. It is a highly underused package for everything that it can do. For example, the following table was created using <code>huxtable</code>. Notice the math symbols in the first column, the fact that the standard errors are closer to the row above them due to smaller margins, and the bolding of certain cells.</p>
<p><img src="./img/huxtable-example.png" class="img-fluid"></p>
<p>The <code>tibble</code> used to create the core table looked like this:</p>
<div class="cell">
<pre><code>#&gt; # A tibble: 14 × 4
#&gt;    metric                   `5-Min`    Daily `5-Min No Outlier`
#&gt;    &lt;chr&gt;                      &lt;dbl&gt;    &lt;dbl&gt;              &lt;dbl&gt;
#&gt;  1 MAPE                    0.0278   0.0372             0.0249  
#&gt;  2 RMSE                    0.00407  0.00285            0.00244 
#&gt;  3 MZ Intercept            0.00226  0.00167            0.00127 
#&gt;  4 MZ Intercept Std. Error 0.000271 0.000486           0.000314
#&gt;  5 MZ Slope                0.282    0.441              0.798   
#&gt;  6 MZ Slope Std. Error     0.0540   0.144              0.113   
#&gt;  7 MZ $R^2$                0.200    0.0792             0.316   
#&gt;  8 MAPE                    0.281    0.325              0.279   
#&gt;  9 RMSE                    0.00788  0.00711            0.00700 
#&gt; 10 MZ Intercept            0.00250  0.00232            0.00164 
#&gt; 11 MZ Intercept Std. Error 0.000756 0.00127            0.000963
#&gt; 12 MZ Slope                0.161    0.196              0.607   
#&gt; 13 MZ Slope Std. Error     0.151    0.376              0.347   
#&gt; 14 MZ $R^2$                0.0104   0.00249            0.0275</code></pre>
</div>
<p>And the R code to generate the table looked like:</p>
<div class="cell">
<div class="sourceCode" id="cb3"><pre class="downlit sourceCode r code-with-copy"><code class="sourceCode R"><span class="kw"><a href="https://rdrr.io/r/base/library.html">library</a></span><span class="op">(</span><span class="va"><a href="https://hughjonesd.github.io/huxtable/">huxtable</a></span><span class="op">)</span>

<span class="va">triple_blank</span> <span class="op">&lt;-</span> <span class="kw">function</span><span class="op">(</span><span class="op">)</span> <span class="op">{</span>
  <span class="fu"><a href="https://rdrr.io/r/base/c.html">c</a></span><span class="op">(</span><span class="st">""</span>, <span class="st">""</span>, <span class="st">""</span><span class="op">)</span>
<span class="op">}</span>

<span class="va">ht</span> <span class="op">&lt;-</span> <span class="va">hux_data</span> <span class="op">%&gt;%</span>
  <span class="fu">huxtable</span><span class="op">(</span><span class="op">)</span> <span class="op">%&gt;%</span>
  
  <span class="co"># Column names</span>
  <span class="fu">add_colnames</span><span class="op">(</span><span class="op">)</span> <span class="op">%&gt;%</span>
  
  <span class="co"># Proxy rows</span>
  <span class="fu">insert_row</span><span class="op">(</span><span class="st">"Proxy: RV"</span>,    <span class="fu">triple_blank</span><span class="op">(</span><span class="op">)</span>, after <span class="op">=</span> <span class="fl">1</span><span class="op">)</span> <span class="op">%&gt;%</span>
  <span class="fu">insert_row</span><span class="op">(</span><span class="st">"Proxy: $r^2$"</span>, <span class="fu">triple_blank</span><span class="op">(</span><span class="op">)</span>, after <span class="op">=</span> <span class="fl">9</span><span class="op">)</span> <span class="op">%&gt;%</span>
  
  <span class="co"># Number rounding</span>
  <span class="fu">set_number_format</span><span class="op">(</span><span class="va">everywhere</span>, <span class="va">everywhere</span>, <span class="st">"%5.4f"</span><span class="op">)</span> <span class="op">%&gt;%</span>
  
  <span class="co"># Bold</span>
  <span class="fu">set_bold</span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/matrix.html">matrix</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/c.html">c</a></span><span class="op">(</span><span class="fl">2</span>,<span class="fl">10</span><span class="op">)</span><span class="op">)</span>, <span class="fl">1</span>, <span class="cn">TRUE</span><span class="op">)</span> <span class="op">%&gt;%</span>
  <span class="fu">set_bold</span><span class="op">(</span><span class="fl">1</span>, <span class="va">everywhere</span>, <span class="cn">TRUE</span><span class="op">)</span> <span class="op">%&gt;%</span>
  
  <span class="co"># Alignment</span>
  <span class="fu">set_align</span><span class="op">(</span><span class="va">everywhere</span>, <span class="va">everywhere</span>, <span class="st">'center'</span><span class="op">)</span> <span class="op">%&gt;%</span>
  <span class="fu">set_align</span><span class="op">(</span><span class="va">everywhere</span>, <span class="fl">1</span>, <span class="st">'right'</span><span class="op">)</span> <span class="op">%&gt;%</span>
  
  <span class="co"># Padding</span>
  <span class="fu">set_all_padding</span><span class="op">(</span>value <span class="op">=</span> <span class="fl">10</span><span class="op">)</span> <span class="op">%&gt;%</span>
  <span class="fu">set_top_padding</span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/c.html">c</a></span><span class="op">(</span><span class="fl">6</span>, <span class="fl">8</span>, <span class="fl">14</span>, <span class="fl">16</span><span class="op">)</span>, <span class="va">everywhere</span>, <span class="fl">0</span><span class="op">)</span> <span class="op">%&gt;%</span>
  <span class="fu">set_bottom_padding</span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/c.html">c</a></span><span class="op">(</span><span class="fl">5</span>, <span class="fl">7</span>, <span class="fl">13</span>, <span class="fl">15</span><span class="op">)</span>, <span class="va">everywhere</span>, <span class="fl">0</span><span class="op">)</span> <span class="op">%&gt;%</span>
  <span class="fu">set_left_padding</span><span class="op">(</span><span class="va">everywhere</span>, <span class="fl">1</span>, <span class="op">-</span><span class="fl">40</span><span class="op">)</span> <span class="op">%&gt;%</span>

  <span class="co"># Borders</span>
  <span class="fu">set_bottom_border</span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/matrix.html">matrix</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/c.html">c</a></span><span class="op">(</span><span class="fl">1</span>, <span class="fl">9</span><span class="op">)</span><span class="op">)</span>, <span class="va">everywhere</span>, value <span class="op">=</span> <span class="fl">.3</span><span class="op">)</span> <span class="op">%&gt;%</span>
  <span class="fu">set_right_border</span><span class="op">(</span><span class="va">everywhere</span>, <span class="fl">1</span>, <span class="fl">.3</span><span class="op">)</span> <span class="op">%&gt;%</span>
  
  <span class="co"># Escape latex</span>
  <span class="fu">set_escape_contents</span><span class="op">(</span><span class="va">everywhere</span>, <span class="fl">1</span>, <span class="cn">FALSE</span><span class="op">)</span> <span class="op">%&gt;%</span>
  <span class="fu">set_escape_contents</span><span class="op">(</span><span class="fl">1</span>, <span class="va">everywhere</span>, <span class="cn">FALSE</span><span class="op">)</span> <span class="op">%&gt;%</span>
  
  <span class="fu">set_caption</span><span class="op">(</span><span class="st">"Out of sample performance of GARCH(1,1) Normal models. MAPE for 5-min is lower than for daily. Across the board, using RV as a proxy over $r^2$ gives more accurate results. Removing the 1 extreme forecast from the 5-min method results in a much higher MZ $R^2$, and a MZ slope much closer to 1."</span><span class="op">)</span> 

<span class="va">ht</span><span class="op">[</span><span class="fl">1</span>,<span class="fl">1</span><span class="op">]</span> <span class="op">&lt;-</span> <span class="st">""</span>

<span class="va">ht</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<p>You even get to view your table in the console without knitting the document to check that you put lines / bolding / even coloring in the right place. This saves more time than you might think!</p>
<div class="quarto-figure quarto-figure-center">
<figure class="figure"><p><img src="./img/huxtable-console.png" class="img-fluid figure-img"></p>
</figure>
</div>
<p><br></p>
<p>I find the pipeable syntax very intuitive, and the family of <code>set_*()</code> functions allow for endless combinations. I didn’t even venture into the world of conditional cell formatting, but I hear that that is pretty powerful too.</p>
</section><section id="adding-images" class="level3"><h3 class="anchored" data-anchor-id="adding-images">Adding images</h3>
<p>I had created a script in my analysis that generated a number of graphics that I wanted to include in the paper. The <code>pinp</code> vignette is an excellent source of examples for these common use cases, and the following allowed me to embed my images in the paper and add a caption with minimal effort:</p>
<pre><code>\begin{figure*}
  \begin{center}
    \includegraphics[width=1.00\textwidth, height=8.5in]{../../visualizations/returns} 
  \end{center}
  \caption{Descriptive plots of 5-minute and daily returns}\label{fig}
\end{figure*}</code></pre>
<p>Notice the relative path <code>../../visualizations/returns</code> where I backtrack up two levels from the location of the RMarkdown paper document and then into my visualizations folder. My file structure looked a bit like this:</p>
<pre><code>fin-econ-project/

  - fin-econ-project.Rproj
  
  - visualizations/
    - returns.png
    
  - paper/
    - forecasting-volatility/
        - forecasting-volatility.Rmd</code></pre>
<p>Ideally, I would have set my directory to be the RStudio Project directory so I could have just done <code>visualizations/returns</code>, but <code>pinp</code> and <code>rticles</code> both dump a large number of files into whatever directory you render it from, and I didn’t want that cluttering things up. Perhaps specifying the location of that file dump can be a separate feature?</p>
</section><section id="adding-equations" class="level3"><h3 class="anchored" data-anchor-id="adding-equations">Adding equations</h3>
<p>Adding mathematical equations can be done in two main ways.</p>
<p>As usual, you can add inline math with the use of a dollar sign, then the equation, then end with a dollar sign, it ends up looking like this: <span class="math inline">\(x + y = z\)</span>. Make sure that you <em>don’t</em> leave a space between the dollar signs and the equation, otherwise it doesn’t render and you end up with: $ x + y = z $.</p>
<p>Larger chunks of equations that need their own lines can be specified using two dollar signs on each side:</p>
<pre><code>$$ 
r_{t_i}         = \epsilon_{t_i} \\
\epsilon_{t_i}  = \sigma_{t_i}  z_{t_i} \\
\sigma_{t_i}    = \alpha \epsilon_{t_{i-1}}  + \beta \sigma_{t_{i-1}}
$$</code></pre>
<p><span class="math display">\[
r_{t_i}         = \epsilon_{t_i} \\
\epsilon_{t_i}  = \sigma_{t_i}  z_{t_i} \\
\sigma_{t_i}    = \alpha \epsilon_{t_{i-1}}  + \beta \sigma_{t_{i-1}}
\]</span></p>
<p>Unfortunately, this doesn’t align the equations at the equal sign, and I think that that looks pretty nice. To do this, you can add <code>&amp;=</code> instead of just <code>=</code> along with adding <code>\begin{aligned}</code> and <code>\end{aligned}</code> before and after the equation.</p>
<pre><code>$$
\begin{aligned}
  r_{t_i}         &amp;= \epsilon_{t_i} \\
  \epsilon_{t_i}  &amp;= \sigma_{t_i}  z_{t_i} \\
  \sigma_{t_i}    &amp;= \alpha \epsilon_{t_{i-1}}  + \beta \sigma_{t_{i-1}}
\end{aligned}
$$</code></pre>
<p>to get:</p>
<p><span class="math display">\[
\begin{aligned}
  r_{t_i}         &amp;= \epsilon_{t_i} \\
  \epsilon_{t_i}  &amp;= \sigma_{t_i}  z_{t_i} \\
  \sigma_{t_i}    &amp;= \alpha \epsilon_{t_{i-1}}  + \beta \sigma_{t_{i-1}}
\end{aligned}
\]</span></p>
<p>Nice!</p>
</section><section id="overall" class="level3"><h3 class="anchored" data-anchor-id="overall">Overall</h3>
<p>For the most part, I enjoyed writing the paper straight from RStudio. Once I figured out a few of the pain points with directory locations, images, equations, and dependencies, the process was pretty smooth. The only other comment I have is that the <code>pinp</code> Knit process is a bit slow. I doubt this has too much to do with the implementation, but more with the underlying rendering engines. I wish there was some way to have Live Rendering like with <code>blogdown</code> so that I could just keep a rendered version of the paper up and have it reload every time I save. That would be the dream!</p>
</section><section id="update" class="level3"><h3 class="anchored" data-anchor-id="update">Update</h3>
<p>Thanks to Dirk, <a href="https://twitter.com/eddelbuettel/status/939607571673075712?s=20&amp;t=lQDzDBBjklmF7zeDl78FCA">the dream has come true</a>.</p>


</section></main><!-- /main --><script id="quarto-html-after-body" type="application/javascript">
window.document.addEventListener("DOMContentLoaded", function (event) {
  const icon = "";
  const anchorJS = new window.AnchorJS();
  anchorJS.options = {
    placement: 'right',
    icon: icon
  };
  anchorJS.add('.anchored');
  const clipboard = new window.ClipboardJS('.code-copy-button', {
    target: function(trigger) {
      return trigger.previousElementSibling;
    }
  });
  clipboard.on('success', function(e) {
    // button target
    const button = e.trigger;
    // don't keep focus
    button.blur();
    // flash "checked"
    button.classList.add('code-copy-button-checked');
    var currentTitle = button.getAttribute("title");
    button.setAttribute("title", "Copied!");
    setTimeout(function() {
      button.setAttribute("title", currentTitle);
      button.classList.remove('code-copy-button-checked');
    }, 1000);
    // clear code selection
    e.clearSelection();
  });
  function tippyHover(el, contentFn) {
    const config = {
      allowHTML: true,
      content: contentFn,
      maxWidth: 500,
      delay: 100,
      arrow: false,
      appendTo: function(el) {
          return el.parentElement;
      },
      interactive: true,
      interactiveBorder: 10,
      theme: 'quarto',
      placement: 'bottom-start'
    };
    window.tippy(el, config); 
  }
  const noterefs = window.document.querySelectorAll('a[role="doc-noteref"]');
  for (var i=0; i<noterefs.length; i++) {
    const ref = noterefs[i];
    tippyHover(ref, function() {
      let href = ref.getAttribute('href');
      try { href = new URL(href).hash; } catch {}
      const id = href.replace(/^#\/?/, "");
      const note = window.document.getElementById(id);
      return note.innerHTML;
    });
  }
  var bibliorefs = window.document.querySelectorAll('a[role="doc-biblioref"]');
  for (var i=0; i<bibliorefs.length; i++) {
    const ref = bibliorefs[i];
    const cites = ref.parentNode.getAttribute('data-cites').split(' ');
    tippyHover(ref, function() {
      var popup = window.document.createElement('div');
      cites.forEach(function(cite) {
        var citeDiv = window.document.createElement('div');
        citeDiv.classList.add('hanging-indent');
        citeDiv.classList.add('csl-entry');
        var biblioDiv = window.document.getElementById('ref-' + cite);
        if (biblioDiv) {
          citeDiv.innerHTML = biblioDiv.innerHTML;
        }
        popup.appendChild(citeDiv);
      });
      return popup.innerHTML;
    });
  }
});
</script>
</div> <!-- /content -->



</body></html>